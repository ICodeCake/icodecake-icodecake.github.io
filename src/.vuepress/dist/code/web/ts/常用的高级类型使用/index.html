<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title></title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.a16336e2.js"><link rel="modulepreload" href="/assets/index.html.b5bdda69.js"><link rel="modulepreload" href="/assets/index.html.e824612c.js"><link rel="prefetch" href="/assets/index.html.c65de153.js"><link rel="prefetch" href="/assets/index.html.f5f4c993.js"><link rel="prefetch" href="/assets/markdown.html.e815f8d0.js"><link rel="prefetch" href="/assets/index.html.06c2be4d.js"><link rel="prefetch" href="/assets/index.html.73418eab.js"><link rel="prefetch" href="/assets/index.html.9de9e8a3.js"><link rel="prefetch" href="/assets/index.html.b93cd93d.js"><link rel="prefetch" href="/assets/index.html.be623f95.js"><link rel="prefetch" href="/assets/CodeReadability.html.c81f0d00.js"><link rel="prefetch" href="/assets/CodeReview.html.1379d271.js"><link rel="prefetch" href="/assets/CSharpCodingStyle.html.aa4a9907.js"><link rel="prefetch" href="/assets/index.html.510c7c4c.js"><link rel="prefetch" href="/assets/UnitTesting.html.1af4c7d8.js"><link rel="prefetch" href="/assets/index.html.417fe316.js"><link rel="prefetch" href="/assets/index.html.ab638749.js"><link rel="prefetch" href="/assets/index.html.12bb0069.js"><link rel="prefetch" href="/assets/index.html.3c4dbcd2.js"><link rel="prefetch" href="/assets/index.html.a542486e.js"><link rel="prefetch" href="/assets/index.html.1ae8aad3.js"><link rel="prefetch" href="/assets/index.html.4140c1c6.js"><link rel="prefetch" href="/assets/index.html.740e9d3e.js"><link rel="prefetch" href="/assets/Built-inTypesAndMethods.html.79d71c5c.js"><link rel="prefetch" href="/assets/index.html.bd9044de.js"><link rel="prefetch" href="/assets/index.html.2d4d93ad.js"><link rel="prefetch" href="/assets/index.html.1fc0aea3.js"><link rel="prefetch" href="/assets/index.html.a0e1c993.js"><link rel="prefetch" href="/assets/index.html.61b7a1aa.js"><link rel="prefetch" href="/assets/index.html.a5b7147a.js"><link rel="prefetch" href="/assets/index.html.6bf554d7.js"><link rel="prefetch" href="/assets/index.html.4bfe48b2.js"><link rel="prefetch" href="/assets/index.html.1121c2a3.js"><link rel="prefetch" href="/assets/index.html.6db81194.js"><link rel="prefetch" href="/assets/index.html.8e25e1d1.js"><link rel="prefetch" href="/assets/index.html.c5d42ac3.js"><link rel="prefetch" href="/assets/index.html.a3309f90.js"><link rel="prefetch" href="/assets/index.html.8ec78e70.js"><link rel="prefetch" href="/assets/404.html.c038a05a.js"><link rel="prefetch" href="/assets/index.html.686ae8f2.js"><link rel="prefetch" href="/assets/index.html.738a7887.js"><link rel="prefetch" href="/assets/markdown.html.1ad42293.js"><link rel="prefetch" href="/assets/index.html.253e6579.js"><link rel="prefetch" href="/assets/index.html.0742684f.js"><link rel="prefetch" href="/assets/index.html.333e0fd5.js"><link rel="prefetch" href="/assets/index.html.d28920d4.js"><link rel="prefetch" href="/assets/index.html.5d2fec17.js"><link rel="prefetch" href="/assets/CodeReadability.html.559cf986.js"><link rel="prefetch" href="/assets/CodeReview.html.06c53c93.js"><link rel="prefetch" href="/assets/CSharpCodingStyle.html.6275c88a.js"><link rel="prefetch" href="/assets/index.html.cf74a2fc.js"><link rel="prefetch" href="/assets/UnitTesting.html.078966a8.js"><link rel="prefetch" href="/assets/index.html.3b2abf71.js"><link rel="prefetch" href="/assets/index.html.76aa84fb.js"><link rel="prefetch" href="/assets/index.html.1b014699.js"><link rel="prefetch" href="/assets/index.html.4c2444df.js"><link rel="prefetch" href="/assets/index.html.b8c76814.js"><link rel="prefetch" href="/assets/index.html.acb80ab0.js"><link rel="prefetch" href="/assets/index.html.b25f7eca.js"><link rel="prefetch" href="/assets/index.html.0ee58ba1.js"><link rel="prefetch" href="/assets/Built-inTypesAndMethods.html.ea59fb04.js"><link rel="prefetch" href="/assets/index.html.924d14a1.js"><link rel="prefetch" href="/assets/index.html.1e359eb3.js"><link rel="prefetch" href="/assets/index.html.a8315e06.js"><link rel="prefetch" href="/assets/index.html.31805a82.js"><link rel="prefetch" href="/assets/index.html.4e4e1aaa.js"><link rel="prefetch" href="/assets/index.html.ea17079e.js"><link rel="prefetch" href="/assets/index.html.989707cb.js"><link rel="prefetch" href="/assets/index.html.235c386f.js"><link rel="prefetch" href="/assets/index.html.711d5d33.js"><link rel="prefetch" href="/assets/index.html.6cd97c95.js"><link rel="prefetch" href="/assets/index.html.700c0f82.js"><link rel="prefetch" href="/assets/index.html.d2dfb181.js"><link rel="prefetch" href="/assets/index.html.b92ae67c.js"><link rel="prefetch" href="/assets/index.html.f927183e.js"><link rel="prefetch" href="/assets/404.html.be8c10aa.js">
    <link rel="stylesheet" href="/assets/style.f4d22aab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><!--v-if--></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><!-- #### 1）、Partial<Type>
》Partial<T> 可以快速把某个接口类型中定义的属性变成可选的
源代码
```
type Partial<T> = {
    [P in keyof T]?: T[P];
};


interface {
age:number
}
```

举例: 
```
interface IUser={
  name:string;
  age:number  
}

type optional = Partial<IUser>

//转化后的结果
type optional = {
  name?:string;
  age?:number
}
```

项目实战: 
```
//materialForm.ts  43
type IMaterialVarLength = Partial<IStimuliInputKey<number>>;
```

#### 2)、Required<Type>
》和Partial刚好相反，将一个定义中的属性全部变成必选参数.让一个类型的属性全部必填
源代码

```
type Required<T> = {
    [P in keyof T]-?: T[P];
};
```
举例
```
interface Person {
    name: string;
    age?: number;
}

type person = Required<Person>;
// person === {name: string; age: number}
```
项目实战: 
```
interface IExtraProps {
    placeholder?: string;
}
//input audioInput.ts
	protected _getRestOfCompProps(): Required<IExtraProps> {
		return {
			placeholder: this._props.placeholder,
		};
	}
```

3）、Readonly<Type>
如果要求对象中的一些字段只能在创建的时候被赋值，使用 readonly 定义只读属性。(只读的约束存在于第一次给对象赋值的时候，而不是第一次给只读属性赋值的时候)
源代码

```
type Readonly<T> = {
    readonly [P in keyof T]: T[P];
};
举例
interface Person {
    readonly id: number;
    name: string;
let tom: Person = {
    id: 89757,
    name: 'Tom',
};
tom.id = 9527;      //  Cannot assign to 'id' because it is a constant or a read-only 
```

项目实战

```
//share form.ts (68)
readonly inputConfig: Readonly<TInputConfig>;
readonly value: Readonly<TValue>;
```

4)、Record<Keys, Type>()
》 Record<K,T>具有给定类型T的一组属性K的类型。在将一个类型的属性映射到另一个类型的属性时，Record非常方便。
[相关解释](https://zhuanlan.zhihu.com/p/356662885)
源代码

```
type Record<K extends keyof any, T> = {
    [P in K]: T;
};
```

举例

```
type person6 = Record<'name' | 'age', string>
// person6 === {name: string; age: string}

type CatName = "miffy" | "boris"
const cats: Record<CatName, person6> = {
   miffy: { name: 10, age: "Persian" },
   boris: { name: 5, age: "Maine Coon" },
}
```

项目实战
```
//layoutInput.ts
export class LayoutInputConfig extends InputConfigBase<
	ILayoutInputSetting,
	ILayoutValue,
	Record<string, any>
> {
...
}

//Record<string, any>
// {
    [x: string]: person6;   //索引签名
}

name:any
sex:angry  
```
综合实战应用1

```
//针对Paradigm 中blockForm.ts
export const blockInputPresets: Partial<Record<keyof IBlockValue, IInputPropPreset>> = {
...
}
// * 执行keyof IBlockValue 的联合类型 例如maxPump | gain | count;
// * 执行Record maxPump：IInputPropPreset，gain：IInputPropPreset，count：IInputPropPreset   
export type IInputPropPreset = {
	label: string;
	description?: string;
	constraint?: INumberConstraint;
};
// * 执行Partial里面的参数 都是不必填内容
```
5）、Pick<Type, Keys> (部分选择)
》可能需要从一个已声明的类型中抽取出一个子类型，在子类型中包含父类型中的部分或全部属性，这时我们可以使用Pick来实现，
源代码

```
type Pick<T, K extends keyof T> = {
    [P in K]: T[P];
};

举例

interface User {
    id: number;
    name: string;
    age: number;
    gender: number;
    email: string;
}
 
type PickUser = Pick<User, "id" | "name" | "gender">;
 
// 等价于
type PickUser = {
    id: number;
    name: string;
    gender: number;
    }
项目实战
//multiLevelInput.ts
const defaultSetting: Pick<IMultiLevelInputSetting, 'level'> = {
	level: {
		constraint: numberConstraints.int_1_20,
		lengthRange: numberConstraints.int_1_20,
	},
};

export interface IMultiLevelInputSetting {
    /** 默认值 int 1-20 */
    level?: {
        constraint: INumberConstraint;
        lengthRange: IRange;
    };
    varSettings: IMultiLevelVarNumberSetting[];
}
```

6)、Omit<Type, Keys>（属性忽略） 
与Pick相反，Pick用于拣选出我们需要关心的属性，而Omit用于忽略掉我们不需要关心的属性

举例
```
interface User {
    id: number;
    name: string;
    age: number;
    gender: number;
    email: string;
}
 
// 表示忽略掉User接口中的age和email属性
type OmitUser = Omit<User, "age" | "email">;
// 等价于
type OmitUser = {
  id: number;
  name: string;
  gender: number;
};
```

项目实战
```
	//所有的block.ts文件中
  protected _createConstants(
		blockValue: IBlockValue
	): Omit<ITrialConstants, 'feedback' | 'fileManager'> {
		return { keys: blockValue.key, area: blockValue.area, pos: blockValue.pos };
	}
```

条件类型
(参考地址)[https://blog.csdn.net/diecuoxie4468/article/details/102360892?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-102360892-blog-104111165.pc_relevant_antiscanv2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-102360892-blog-104111165.pc_relevant_antiscanv2&utm_relevant_index=2]

7）、Exclude<UnionType, ExcludedMembers>
》一个类型从另一个类型中剔除部分属性key
源码
```
type Exclude<T, U> = T extends U ? never : T;
```

举例
```
type T0 = Exclude<"a" | "b" | "c", "a">;
type T0 = "b" | "c"

type T1 = Exclude<"a" | "b" | "c", "a" | "b">;

type T1 = "c"

//解释 对于联合类型，是如何进行类比的？
T1 = | ("a" extends "a" | "b" ? never : "a")
  | ("b" extends "a" | "b" ? never : "b")
  | ("c" extends "a" | "b" ? never : "c")
最终结果 T1 = "c"

type T2 = Exclude<string | number | (() => void), Function>;
     
type T2 = string | number
```


项目实战
```
// orderedBlock.ts

export type ILevelVarPool<T extends IOrderedTrialLevel> = {
	[key in Exclude<keyof T, 'index'>]: Array<T[key]>;
};


//is.ts    如果value不是null的为true
export function noNull<T>(v: T | null): v is Exclude<T, null> {
	return v !== null;
}
```

8）、Extract<Type, Union>
》Extract 的功能，与 Exclude 相反，它是 提取 T 中可以赋值给 U 的类型。
源码

```
type Extract<T, U> = T extends U ? T : never;

举例
type T0 = Extract<"a" | "b" | "c", "a" | "f">;
     
type T0 = "a"
type T1 = Extract<string | number | (() => void), Function>;
     
type T1 = () => void
```

项目实战暂无
9)、NonNullable<Type>非空
》类型中排除 null 和 undefined
举例：
```
type T04 = NonNullable<string | number | undefined>;  // string | number
type T05 = NonNullable<(() => string) | string[] | null | undefined>;  // (() => string) | string[]
```

项目案例

```
export function notNullish<T>(v: T | null | undefined): v is NonNullable<T> {
	// eslint-disable-next-line unicorn/no-null
	return v != null;
}
```

10)、ReturnType（函数返回值类型） 
》ReturnType<T>的作用是用于获取函数 T 的返回类型。  

```
declare function f1(): { a: number; b: string };
 
type T0 = ReturnType<() => string>;
     
type T0 = string
type T1 = ReturnType<(s: string) => void>;
     
type T1 = void
type T2 = ReturnType<<T>() => T>;
     
type T2 = unknown
type T3 = ReturnType<<T extends U, U extends number[]>() => T>;
     
type T3 = number[]
type T4 = ReturnType<typeof f1>;
     
type T4 = {
    a: number;
    b: string;
}
```

项目实战无
11)、Parameters（函数参数类型）
》Parameters的作用是用于获取函数 T 的参数类型
举例

```
// 获取函数所有参数的类型元组
type T0 = Parameters<() => string>;
     
type T0 = []
type T1 = Parameters<(s: string) => void>;
     
type T1 = [s: string]
type T2 = Parameters<<T>(arg: T) => T>;
     
type T2 = [arg: unknown]
```
项目实战无 --></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ryning@sina.com">Z小染</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.a16336e2.js" defer></script>
  </body>
</html>
