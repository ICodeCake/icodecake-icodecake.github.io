import{_ as t,r as e,o as p,c as o,a as n,d as c,b as l,e as s}from"./app.38c1a631.js";const u={},i=s(`<h1 id="xaml-binding" tabindex="-1"><a class="header-anchor" href="#xaml-binding" aria-hidden="true">#</a> XAML Binding</h1><h2 id="\u6570\u636E\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7ED1\u5B9A" aria-hidden="true">#</a> \u6570\u636E\u7ED1\u5B9A</h2><h3 id="mode" tabindex="-1"><a class="header-anchor" href="#mode" aria-hidden="true">#</a> Mode</h3><p>\u6A21\u5F0F\u5C5E\u6027\uFF0C\u7528\u4E8E\u63A7\u5236 Binding \u6570\u636E\u6D41\u5411</p><ul><li>OneWay\uFF1ASource \u5F71\u54CD Target\uFF0C\u4F46\u662F Target \u5F71\u54CD\u4E0D\u5230 Source</li><li>TwoWay\uFF1ASource \u4E0E Target \u76F8\u4E92\u5F71\u54CD</li><li>OneWayToSource\uFF1ATarget \u5F71\u54CD Source\uFF0CSource \u5374\u5F71\u54CD\u4E0D\u5230 Target</li><li>OneTime\uFF1A\u4EC5\u7ED1\u5B9A\u4E00\u6B21\uFF0C\u663E\u793A\u521D\u59CB\u503C</li></ul><h3 id="\u7ED1\u5B9A\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u7ED1\u5B9A\u793A\u4F8B" aria-hidden="true">#</a> \u7ED1\u5B9A\u793A\u4F8B</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u7ED1\u5B9A\u5230DataContext--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding DataTime}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230DataContext, \u5E76\u8BBE\u7F6E\u7ED1\u5B9A\u6A21\u5F0F--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name"><span class="token namespace">x:</span>Name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding DataTime,Mode=OneTime}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--\u7ED1\u5B9A\u5230DataContext,\u5E76\u8BBE\u7F6E\u66F4\u65B0\u6A21\u5F0F--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding DataTime,UpdateSourceTrigger=PropertyChanged}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230DataContext, \u5E76\u8BBE\u7F6E\u8F6C\u6362\u6A21\u5F0F--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding DataTime,Converter={StaticResource ConvertResource},ConverterParameter=btn1}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230Element\u4E2D\u6307\u5B9A\u5C5E\u6027-- &gt;
&lt; Button Content=&quot;{Binding ElementName=btn,Path=Content}&quot;/&gt;

<span class="token comment">&lt;!--\u7ED1\u5B9A\u5230\u76F8\u5BF9\u4F4D\u7F6E\u4E2D\u7684\u81EA\u8EAB\u6A21\u5F0F--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding RelativeSource={RelativeSource Mode=Self},Path=Tag}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyTag<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--\u7ED1\u5B9A\u5230\u76F8\u5BF9\u4F4D\u7F6E\u4E2D\u7684\u7236\u7EA7\u522B\u67E5\u627E\u6A21\u5F0F--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Window},Path=Content}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230\u76F8\u5BF9\u4F4D\u7F6E\u4E2D\u7684\u7236\u7EA7\u522B\u67E5\u627E\u6A21\u5F0F \u7ED1\u5B9A\u5230\u6307\u5B9A\u7C7B\u578B--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Window},Path=Content}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230\u76F8\u5BF9\u4F4D\u7F6E\u4E2D\u7684\u7236\u7EA7\u522B\u67E5\u627E\u6A21\u5F0F \u7ED1\u5B9A\u5230\u6307\u5B9A\u5C42\u7EA7--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorLevel=2},Path=Content}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

&lt; !--\u7ED1\u5B9A\u5230\u76F8\u5BF9\u4F4D\u7F6E\u4E2D\u7684\u7236\u7EA7\u522B\u67E5\u627E\u6A21\u5F0F \u7ED1\u5B9A\u5230\u6A21\u677F\u5185\u5BB9--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{Binding RelativeSource={RelativeSource Mode=TemplatedParent},Path=Content}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="calcbinding" tabindex="-1"><a class="header-anchor" href="#calcbinding" aria-hidden="true">#</a> CalcBinding</h2>`,8),k={href:"https://github.com/Alex141/CalcBinding",target:"_blank",rel:"noopener noreferrer"},r=s(`<p>\u901A\u8FC7 Nuget \u5B89\u88C5 CalcBinding \u5E93\uFF0C\u5728\u4F7F\u7528\u8FD9\u4E2A\u5E93\u4E4B\u524D\u9700\u8981\u5F15\u7528\u547D\u540D\u7A7A\u95F4\uFF0C\u6253\u5F00 MainWindow.xaml \u6587\u4EF6\uFF0C\u6DFB\u52A0\u547D\u540D\u7A7A\u95F4 <code>xmlns:c=&quot;clr-namespace:CalcBinding;assembly=CalcBinding&quot;</code>\u53EF\u4EE5\u5B9E\u73B0\u4E00\u4E9B\u7B80\u5355\u7684\u6570\u5B66\u8FD0\u7B97\u8F6C\u6362</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBlock</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding 0.5*A+B}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5BF9\u4E8E\u7ECF\u5E38\u8BA1\u7B97\u503C\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u7B80\u5355\u4F7F\u7528\uFF0C\u5982 Math \u91CC\u9762\u7684\u65B9\u6CD5</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding Math.Sin(A*Math.PI/180), StringFormat={}{0:n5} }<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding A*Math.PI}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ECF\u5E38\u4F1A\u5C06 bool \u8F6C\u6362\u4E3A Visibility \u8FD9\u4E2A\u5E93\u4E5F\u6709\u7B80\u5355\u7684\u65B9\u6CD5</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">Content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TargetButton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding HasPrivileges, FalseToVisibility=Collapsed}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u56E0\u4E3A\u5728 xaml \u4E0D\u80FD\u4F7F\u7528 &amp;&amp; || &lt;= \u6240\u4EE5\u9700\u8981\u4F7F\u7528 and or &#39;less=&#39; \u66FF\u6362 \u53E6\u5916\u5BF9\u4E8E : \u4E4B\u524D\u9700\u8981\u6DFB\u52A0\u7A7A\u683C\uFF0C\u5982\u4E0B\u9762\u4EE3\u7801</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding &#39;(A == 2)?IsChecked : IsFull}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- right --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding &#39;(A == 2)?IsChecked :!IsFull}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- right --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding &#39;(A == 2) ? IsChecked :4 + IsFull}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- right --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E9B\u90FD\u662F\u5BF9\u7684\uFF0C\u4F46\u662F\u4E0B\u9762\u7684\u4EE3\u7801\u662F\u65E0\u6CD5\u8FD0\u884C</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextBox</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{c:Binding &#39;(A == 2)?IsChecked:IsFull}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- wrong --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="converter" tabindex="-1"><a class="header-anchor" href="#converter" aria-hidden="true">#</a> Converter</h2><p>\u8F6C\u6362\u5668\uFF0C\u901A\u8FC7\u53C2\u6570\uFF0C\u8FD4\u56DE\u9700\u8981\u7ED1\u5B9A\u7684\u5C5E\u6027\u503C</p><h3 id="ivalueconverter" tabindex="-1"><a class="header-anchor" href="#ivalueconverter" aria-hidden="true">#</a> IValueConverter</h3><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BooleanToOpacityConverter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IValueConverter</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Convert</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">Type</span> targetType<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name"><span class="token keyword">bool</span></span> isCut <span class="token operator">&amp;&amp;</span> isCut<span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token number">0.3</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ConvertBack</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">Type</span> targetType<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">double</span></span> opacity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>opacity <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>opacity <span class="token operator">==</span> <span class="token number">0.3</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token keyword">return</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Grid</span> <span class="token attr-name">Opacity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding IsCut,Converter={StaticResource BooleanToOpacityConverter}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="imultivalueconverter" tabindex="-1"><a class="header-anchor" href="#imultivalueconverter" aria-hidden="true">#</a> IMultiValueConverter</h3><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MultiBooleanToVisibilityConverter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IMultiValueConverter</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Convert</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> values<span class="token punctuation">,</span> <span class="token class-name">Type</span> targetType<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span> <span class="token keyword">in</span> values<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name"><span class="token keyword">bool</span></span> boolValue <span class="token operator">&amp;&amp;</span> boolValue<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Visibility<span class="token punctuation">.</span>Hidden<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Visibility<span class="token punctuation">.</span>Visible<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ConvertBack</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> targetTypes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Style</span> <span class="token attr-name">TargetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">BasedOn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{StaticResource Button.PlayerOverlay.Style}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Setter</span> <span class="token attr-name">Property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Visibility<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Setter.Value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MultiBinding</span> <span class="token attr-name">Converter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{StaticResource MultiBooleanToVisibilityConverter}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Binding</span> <span class="token attr-name">Path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IsMouseOver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ElementName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Binding</span> <span class="token attr-name">Path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CameraRecordModel.CanChangeLayout<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MultiBinding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Setter.Value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Setter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="custom-binding" tabindex="-1"><a class="header-anchor" href="#custom-binding" aria-hidden="true">#</a> Custom Binding</h2><p>\u81EA\u5B9A\u4E49\u7ED1\u5B9A\u6A21\u5F0F\uFF0C\u907F\u514D\u591A\u5904\u5199 Converter</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NullImageConverter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IValueConverter</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> ValidateFileExists <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// \u8F6C\u6362\u503C\u3002</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7ED1\u5B9A\u6E90\u751F\u6210\u7684\u503C\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>targetType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7ED1\u5B9A\u76EE\u6807\u5C5E\u6027\u7684\u7C7B\u578B\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parameter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8981\u4F7F\u7528\u7684\u8F6C\u6362\u5668\u53C2\u6570\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>culture<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8981\u7528\u5728\u8F6C\u6362\u5668\u4E2D\u7684\u533A\u57DF\u6027\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>returns</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// \u8F6C\u6362\u540E\u7684\u503C\u3002 \u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE null\uFF0C\u5219\u4F7F\u7528\u6709\u6548\u7684 null \u503C\u3002</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>returns</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Convert</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">Type</span> targetType<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">string</span></span> path <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> DependencyProperty<span class="token punctuation">.</span>UnsetValue<span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>ValidateFileExists<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>File<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> DependencyProperty<span class="token punctuation">.</span>UnsetValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// \u8F6C\u6362\u503C\u3002</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7ED1\u5B9A\u76EE\u6807\u751F\u6210\u7684\u503C\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>targetType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8981\u8F6C\u6362\u4E3A\u7684\u7C7B\u578B\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parameter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8981\u4F7F\u7528\u7684\u8F6C\u6362\u5668\u53C2\u6570\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>culture<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8981\u7528\u5728\u8F6C\u6362\u5668\u4E2D\u7684\u533A\u57DF\u6027\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>returns</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// \u8F6C\u6362\u540E\u7684\u503C\u3002 \u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE null\uFF0C\u5219\u4F7F\u7528\u6709\u6548\u7684 null \u503C\u3002</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>returns</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ConvertBack</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name">Type</span> targetType<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> parameter<span class="token punctuation">,</span> <span class="token class-name">CultureInfo</span> culture<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Binding<span class="token punctuation">.</span>DoNothing<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageBinding</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Binding</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">NullImageConverter</span> _nullImageConverter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NullImageConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> _validateFileExists <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> ValidateFileExists
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> _validateFileExists<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">set</span>
            <span class="token punctuation">{</span>
                _validateFileExists <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
                _nullImageConverter<span class="token punctuation">.</span>ValidateFileExists <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token function">ImageBinding</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> path<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Converter <span class="token operator">=</span> _nullImageConverter<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageBrush</span> <span class="token attr-name">ImageSource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{uiConverters:ImageBinding ViewInfoModel.IconImageUri, ValidateFileExists=False}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Stretch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UniformToFill<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,22);function d(m,v){const a=e("ExternalLinkIcon");return p(),o("div",null,[i,n("blockquote",null,[n("p",null,[n("a",k,[c("CalcBinding"),l(a)])])]),r])}const b=t(u,[["render",d],["__file","index.html.vue"]]);export{b as default};
